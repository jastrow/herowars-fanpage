"use strict";(self.webpackChunkhw=self.webpackChunkhw||[]).push([[643],{643:(Te,$,a)=>{a.r($),a.d($,{HeroModule:()=>ye});var N=a(8751),l=a(177),s=a(9417),v=a(1635),e=a(4438),p=a(5601),y=a(8359),T=a(1413),m=a(8141),S=a(6354),H=a(9437),C=a(7673),x=a(11),I=a(1626),_=a(4412),G=a(4744),w=a(8953),R=function(i){return i.KLASSE="klasse",i.TIER="tier",i}(R||{});let f=(()=>{class i{constructor(){this.http=(0,e.WQX)(I.Qq),this.env=(0,e.WQX)(w.M),this.loginService=(0,e.WQX)(G.H),this.tierlist=["-","S+","S","A+","A","B","C","D"],this.classes=["-","Heiler","Kontrolle","Magier","Sch\xfctze","Unterst\xfctzer","Panzer","Krieger"],this.herolistFilter=new _.t({filtertier:null,filterklasse:null})}setHeroFilter(t,n){if(t===R.KLASSE&&this.classes.includes(n)){let r=this.herolistFilter.value;r.filterklasse=n,this.herolistFilter.next(r)}if(t===R.TIER&&this.tierlist.includes(n)){let r=this.herolistFilter.value;r.filtertier=n,this.herolistFilter.next(r)}}setHeroFilters(t){this.herolistFilter.next(t)}getHeroFilter(){return this.herolistFilter}getHeroNames(){return this.http.get(this.env.apiUrl+"/heroes.php?heronames=1")}getHeroByName(t,n){return this.http.get(this.env.apiUrl+"/heroes.php?heroByName="+t+(n?"&edit=1":""))}sendHero(t){return this.http.post(this.env.apiUrl+"/heroes.php?hero_id="+t.hero_id,t)}deleteHero(t){return this.http.get(this.env.apiUrl+"/heroes.php?deletehero="+encodeURI(t))}getHeroNamesFiltered(t,n){t="-"===t?"":t,n="-"===n?"":n;let r=this.env.apiUrl+"/heroes.php?filtertier="+encodeURIComponent(t)+"&filterklasse="+encodeURIComponent(n);return this.http.get(r)}getHeroTeams(){return this.http.get(this.env.apiUrl+"/heroes.php?teams=1")}getHeroTeam(t){return this.http.get(this.env.apiUrl+"/heroes.php?team="+t)}saveHeroTeam(t){return this.http.post(this.env.apiUrl+"/heroes.php?saveteam=1",t)}deleteTeam(t){return this.http.get(this.env.apiUrl+"/heroes.php?deleteteam="+t)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var u=a(5882),b=a(4558);const O=i=>[i];function P(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.prevSkin())}),e.k0s(),e.j41(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.nextSkin())}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.JRh(t.getSkinName())}}function J(i,o){if(1&i&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t)}}function V(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",14),e.bIt("click",function(){const r=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.selectSkin(r))}),e.EFF(1),e.k0s()}if(2&i){const t=o.$implicit;e.R7$(),e.JRh(t)}}function D(i,o){if(1&i&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t)}}function B(i,o){if(1&i){const t=e.RV6();e.j41(0,"p",15)(1,"button",16),e.EFF(2,"Bearbeiten"),e.k0s(),e.j41(3,"button",12),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.deleteHero())}),e.EFF(4,"L\xf6schen"),e.k0s()()}if(2&i){const t=e.XpG().ngIf;e.R7$(),e.Y8G("routerLink",e.eq3(1,O,"/hero/hero/edithero/"+t.name))}}function X(i,o){if(1&i&&(e.qex(0),e.j41(1,"div",3),e.nrm(2,"img",4),e.DNE(3,P,5,1,"div",5),e.k0s(),e.j41(4,"h1"),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8,"Position:"),e.k0s(),e.EFF(9),e.nrm(10,"br"),e.j41(11,"strong"),e.EFF(12,"Tier-List:"),e.k0s(),e.EFF(13),e.nrm(14,"br"),e.j41(15,"strong"),e.EFF(16,"Funktion:"),e.k0s(),e.EFF(17),e.k0s(),e.nrm(18,"p",6),e.j41(19,"h2",7),e.EFF(20,"Artefakte Priorit\xe4t"),e.k0s(),e.DNE(21,J,2,1,"div",8),e.j41(22,"h2",7),e.EFF(23,"Skin Priorit\xe4t"),e.k0s(),e.DNE(24,V,2,1,"div",9),e.j41(25,"h2",7),e.EFF(26,"Glyphen Priorit\xe4t"),e.k0s(),e.DNE(27,D,2,1,"div",8)(28,B,5,3,"p",10),e.nI1(29,"async"),e.bVm()),2&i){const t=o.ngIf,n=e.XpG();e.R7$(2),e.FS9("src",n.getSkinUrl(),e.B4B),e.R7$(),e.Y8G("ngIf",t.skins.length),e.R7$(2),e.JRh(t.name),e.R7$(4),e.SpI(" ",t.position,""),e.R7$(4),e.SpI(" ",t.tierlist,""),e.R7$(4),e.SpI(" ",t.funktion," "),e.R7$(),e.Y8G("innerHTML",t.description,e.npT),e.R7$(3),e.Y8G("ngForOf",t.artifacts),e.R7$(3),e.Y8G("ngForOf",t.skins),e.R7$(3),e.Y8G("ngForOf",t.glyphs),e.R7$(),e.Y8G("ngIf",e.bMT(29,11,n.auth$))}}function Y(i,o){1&i&&(e.j41(0,"p"),e.EFF(1,"Wirklich l\xf6schen?"),e.k0s(),e.j41(2,"button",17),e.EFF(3,"L\xf6schen"),e.k0s(),e.j41(4,"button",17),e.EFF(5,"Abbrechen"),e.k0s())}class g{constructor(){this.route=(0,e.WQX)(p.nX),this.subscription=new y.yU,this.service=(0,e.WQX)(x.O),this.heroService=(0,e.WQX)(f),this.selectedSkin=0,this.skins=[],this.heroName="",this.close$=new T.B,this.store=(0,e.WQX)(u.il),this.router=(0,e.WQX)(p.Ix)}ngOnInit(){this.subscription.add(this.route.params.pipe((0,m.M)(o=>{this.hero$=this.heroService.getHeroByName(o.id,!1).pipe((0,m.M)(t=>{this.skins=[...this.skins,...t.skins.split(",")],this.heroName=t.name}),(0,S.T)(t=>({...t,skins:t.skins.split(","),glyphs:t.glyphs.split(","),artifacts:t.artefacts.split(",")})))})).subscribe(o=>{this.service.backgroundImage="/assets/poster/"+o.id+".png"}))}ngOnDestroy(){this.subscription.unsubscribe()}deleteHero(){}nextSkin(){let o=this.selectedSkin+1;this.selectedSkin=o>=this.skins.length?0:o}prevSkin(){let o=this.selectedSkin-1;this.selectedSkin=o<0?this.skins.length-1:o}getSkinName(){return this.skins[this.selectedSkin]}getSkinUrl(){let o=this.skins[this.selectedSkin];return"/assets/hero/"+this.heroName+("Standard"===o?"":"_"+o)+".png"}selectSkin(o){this.selectedSkin=this.skins.indexOf(o)}deleteHero2(){this.heroService.deleteHero(this.heroName).pipe((0,H.W)(o=>(0,C.of)(o))).subscribe(o=>{this.router.navigate(["/hero/heroes"])})}static#e=this.\u0275fac=function(t){return new(t||g)};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["app-hero"]],decls:5,vars:4,consts:[[1,"content"],[3,"definedRoute"],[4,"ngIf"],[1,"heroimage"],[1,"heroimg",3,"src"],["class","scrollhero",4,"ngIf"],[3,"innerHTML"],[2,"margin-top","1em"],["class","chip",4,"ngFor","ngForOf"],["class","chip skinchip",3,"click",4,"ngFor","ngForOf"],["style","margin-top:2em",4,"ngIf"],[1,"scrollhero"],["type","button",3,"click"],[1,"chip"],[1,"chip","skinchip",3,"click"],[2,"margin-top","2em"],["type","button",2,"margin-right","1em",3,"routerLink"],["type","button"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.nrm(1,"app-subnav",1),e.DNE(2,X,30,13,"ng-container",2),e.nI1(3,"async"),e.k0s(),e.DNE(4,Y,6,0,"ng-template")),2&t&&(e.R7$(),e.Y8G("definedRoute","hero"),e.R7$(),e.Y8G("ngIf",e.bMT(3,2,n.hero$)))},dependencies:[l.Sq,l.bT,p.Wk,b.z,l.Jj],styles:["[_nghost-%COMP%]{display:block}.heroimage[_ngcontent-%COMP%]{padding:.5em;float:right;max-width:50%}.heroimg[_ngcontent-%COMP%]{max-height:300px;max-width:100%;border-radius:.8em .8em 0 0;border:2px solid black}h2[_ngcontent-%COMP%]{font-family:Protest Strike,sans-serif;font-weight:400;font-style:normal;color:#d6ab08}.chip[_ngcontent-%COMP%]{display:inline-block;padding:.3em .5em;border:1px solid #D6AB08;border-radius:.4em;background-color:#000;margin-right:.5em;margin-bottom:.5em}.scrollhero[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3em;background-color:#000;border-radius:0 0 .8em .8em}.skinchip[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 575.98px){.heroimage[_ngcontent-%COMP%]{float:none;padding:.5em;width:auto;max-width:100%;display:block}.heroimg[_ngcontent-%COMP%]{max-height:100%}}"],changeDetection:0})}(0,v.Cg)([(0,u.l6)(i=>i.auth.sessionId)],g.prototype,"auth$",void 0);const W=i=>["/hero/hero/",i],L=()=>["/hero/hero/edithero/"];function U(i,o){1&i&&e.nrm(0,"option")}function Q(i,o){1&i&&e.nrm(0,"option")}function K(i,o){if(1&i&&(e.j41(0,"div",10)(1,"div",11),e.EFF(2),e.k0s()()),2&i){const t=o.$implicit;e.muq("background-image: url(/assets/hero/",t,".png);"),e.Y8G("routerLink",e.eq3(5,W,t)),e.R7$(2),e.JRh(t)}}function A(i,o){if(1&i&&(e.j41(0,"div"),e.DNE(1,K,3,7,"div",9),e.k0s()),2&i){const t=o.ngIf;e.R7$(),e.Y8G("ngForOf",t)}}function z(i,o){1&i&&(e.j41(0,"div")(1,"button",12),e.EFF(2,"Held hinzuf\xfcgen"),e.k0s()()),2&i&&(e.R7$(),e.Y8G("routerLink",e.lJ4(1,L)))}class k{constructor(){this.service=(0,e.WQX)(f),this.filtered$=new _.t([]),this.filter$=new _.t({filtertier:null,filterklasse:null}),this.form=new s.gE({filterTier:new s.MJ("-"),filterKlasse:new s.MJ("-")}),this.subscriptions=new y.yU}ngOnInit(){this.filter$=this.service.getHeroFilter();const o=this.filter$.value;this.form.get("filterTier")?.setValue(o.filtertier),this.form.get("filterKlasse")?.setValue(o.filterklasse),this.subscriptions.add(this.form.valueChanges.subscribe(t=>{this.service.setHeroFilters({filtertier:t.filterTier?t.filterTier:"-",filterklasse:t.filterKlasse?t.filterKlasse:"-"})})),this.subscriptions.add(this.filter$.subscribe(t=>{this.service.getHeroNamesFiltered(t.filtertier?t.filtertier:"-",t.filterklasse?t.filterklasse:"-").subscribe(d=>{this.filtered$.next(d)})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||k)};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["app-heroes"]],decls:19,vars:10,consts:[[1,"content"],[3,"definedRoute"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],["formControlName","filterTier"],[4,"ngFor","ngForOf"],["formControlName","filterKlasse"],[4,"ngIf"],["class","hero",3,"routerLink","style",4,"ngFor","ngForOf"],[1,"hero",3,"routerLink"],[1,"hname"],["type","button",3,"routerLink"]],template:function(t,n){1&t&&(e.j41(0,"div")(1,"div",0),e.nrm(2,"app-subnav",1),e.j41(3,"h1"),e.EFF(4,"Helden Liste"),e.k0s(),e.j41(5,"form",2)(6,"div",3)(7,"div",4),e.EFF(8," Filter Tier "),e.j41(9,"select",5),e.DNE(10,U,1,0,"option",6),e.k0s()(),e.j41(11,"div",4),e.EFF(12," Filter Klasse "),e.j41(13,"select",7),e.DNE(14,Q,1,0,"option",6),e.k0s()()()(),e.DNE(15,A,2,1,"div",8),e.nI1(16,"async"),e.DNE(17,z,3,2,"div",8),e.nI1(18,"async"),e.k0s()()),2&t&&(e.R7$(2),e.Y8G("definedRoute","hero"),e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngForOf",n.service.tierlist),e.R7$(4),e.Y8G("ngForOf",n.service.classes),e.R7$(),e.Y8G("ngIf",e.bMT(16,6,n.filtered$)),e.R7$(2),e.Y8G("ngIf",e.bMT(18,8,n.auth$)))},dependencies:[l.Sq,l.bT,s.qT,s.xH,s.y7,s.wz,s.BC,s.cb,p.Wk,s.j4,s.JD,b.z,l.Jj],styles:["[_nghost-%COMP%]{display:block}.hero[_ngcontent-%COMP%]{display:inline-flex;border:3px solid black;color:gray;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:contain;margin:.5em;justify-content:center;align-items:flex-end;align-content:flex-end;cursor:pointer}.hname[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;width:100%;text-align:center;padding:.2em 0 0}"],changeDetection:0})}function Z(i,o){1&i&&e.nrm(0,"option")}function q(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"h1"),e.EFF(2,"Neuen Held anlegen"),e.k0s(),e.j41(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",4),e.EFF(7," Name des Helden "),e.nrm(8,"input",5),e.k0s()()(),e.j41(9,"div",3)(10,"div",4),e.EFF(11," Kampfposition "),e.j41(12,"select",6),e.nrm(13,"option"),e.k0s()(),e.j41(14,"div",4),e.EFF(15," Tier List "),e.j41(16,"select",7),e.DNE(17,Z,1,0,"option",8),e.k0s()()(),e.j41(18,"div",3)(19,"div",4),e.EFF(20," Klasse "),e.nrm(21,"input",9)(22,"option",10),e.k0s(),e.j41(23,"div",4),e.EFF(24," Sekund\xe4re Klasse "),e.nrm(25,"input",11)(26,"option",10),e.k0s()(),e.j41(27,"p")(28,"textarea",12),e.EFF(29,"                Hinweise "),e.EFF(30,"&"),e.EFF(31," Tips\n            "),e.k0s()(),e.j41(32,"p"),e.EFF(33,"Skin & Priorit\xe4t"),e.k0s(),e.j41(34,"div",3)(35,"div",13),e.EFF(36," Skin Priorit\xe4t 1 "),e.nrm(37,"input",14)(38,"option",15),e.k0s(),e.j41(39,"div",13),e.EFF(40," Skin Priorit\xe4t 2 "),e.nrm(41,"input",14)(42,"option",15),e.k0s(),e.j41(43,"div",13),e.EFF(44," Skin Priorit\xe4t 3 "),e.nrm(45,"input",14)(46,"option",15),e.k0s()(),e.j41(47,"div",3)(48,"div",13),e.EFF(49," Skin Priorit\xe4t 4 "),e.nrm(50,"input",14)(51,"option",15),e.k0s(),e.j41(52,"div",13),e.EFF(53," Skin Priorit\xe4t 5 "),e.nrm(54,"input",14)(55,"option",15),e.k0s(),e.j41(56,"div",13),e.EFF(57," Skin Priorit\xe4t 6 "),e.nrm(58,"input",14)(59,"option",15),e.k0s()(),e.j41(60,"p"),e.EFF(61,"Glyphen & Priorit\xe4t"),e.k0s(),e.j41(62,"div",3)(63,"div",13),e.EFF(64," Glyphe Priorit\xe4t 1 "),e.nrm(65,"input",14)(66,"option",16),e.k0s(),e.j41(67,"div",13),e.EFF(68," Glyphe Priorit\xe4t 2 "),e.nrm(69,"input",14)(70,"option",16),e.k0s(),e.j41(71,"div",13),e.EFF(72," Glyphe Priorit\xe4t 3 "),e.nrm(73,"input",14)(74,"option",16),e.k0s()(),e.j41(75,"div",3)(76,"div",13),e.EFF(77," Glyphe Priorit\xe4t 4 "),e.nrm(78,"input",14)(79,"option",16),e.k0s(),e.j41(80,"div",13),e.EFF(81," Glyphe Priorit\xe4t 5 "),e.nrm(82,"input",14)(83,"option",16),e.k0s()(),e.j41(84,"p"),e.EFF(85,"Artefakt Priorit\xe4t"),e.k0s(),e.j41(86,"div",3)(87,"div",13),e.EFF(88," Artefakt Priorit\xe4t 1 "),e.nrm(89,"input",14)(90,"option",17),e.k0s(),e.j41(91,"div",13),e.EFF(92," Artefakt Priorit\xe4t 2 "),e.nrm(93,"input",14)(94,"option",17),e.k0s(),e.j41(95,"div",13),e.EFF(96," Artefakt Priorit\xe4t 3 "),e.nrm(97,"input",14)(98,"option",17),e.k0s()(),e.j41(99,"p")(100,"button",18),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.sendData())}),e.EFF(101,"Abschicken"),e.k0s(),e.j41(102,"button",19),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.abbrechen())}),e.EFF(103,"Abbrechen"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("formGroup",t.form),e.R7$(14),e.Y8G("ngForOf",t.service.tierlist)}}(0,v.Cg)([(0,u.l6)(i=>i.auth.sessionId)],k.prototype,"auth$",void 0);class F{constructor(){this.service=(0,e.WQX)(f),this.activeRoute=(0,e.WQX)(p.nX),this.router=(0,e.WQX)(p.Ix),this.subscription=new y.yU,this.heroId=null,this.heroName=null,this.skinNames=["","Standard","Angelic","Barbarian","Beach","Blooming","Celestial","Champion","Champion","Cybernetic","Dark_Depths","Demonic","Illusionist","Lunar","Masquerade","Mechanical","Nordic","Phoenix","Predator","Romantic","Rowdy","Solar","Spring","Stellar","Sweettooth","Thundering","Winter"],this.glyphNames=["Physischer Angriff","R\xfcstung","Ausweichen","R\xfcstungspenetration","Agilit\xe4t","Magischer Angriff","Gesundheit","Magische Verteidigung","Intelligenz","St\xe4rke","Krit. Treffer","Magiest\xe4rke"],this.artefactNames=["Waffe","Buch","Ring"],this.positions=["Vorne","Hinten","Mitte"],this.skins=[],this.glyphs=[],this.form=new s.gE({hero_id:new s.MJ(""),name:new s.MJ(""),position:new s.MJ(""),tierlist:new s.MJ(""),funktion:new s.MJ(""),funktion2:new s.MJ(""),description:new s.MJ(""),skin1:new s.MJ(""),skin2:new s.MJ(""),skin3:new s.MJ(""),skin4:new s.MJ(""),skin5:new s.MJ(""),skin6:new s.MJ(""),glyph1:new s.MJ(""),glyph2:new s.MJ(""),glyph3:new s.MJ(""),glyph4:new s.MJ(""),glyph5:new s.MJ(""),artefact1:new s.MJ(""),artefact2:new s.MJ(""),artefact3:new s.MJ("")})}ngOnInit(){this.subscription.add(this.activeRoute.params.pipe((0,m.M)(o=>{this.heroName=o.id,this.heroName&&this.service.getHeroByName(o.id,!0).subscribe(t=>{this.heroId=t.hero_id?t.hero_id:null,this.form.get("name")?.setValue(t.name),this.form.get("position")?.setValue(t.position),this.form.get("tierlist")?.setValue(t.tierlist),this.form.get("description")?.setValue(t.description);const n=t.funktion.split(",");n[0]&&this.form.get("funktion")?.setValue(n[0]),n[1]&&this.form.get("funktion2")?.setValue(n[1]);const r=t.skins.split(",");for(let c=0;c<6;c++)r[c]&&this.form.get("skin"+(c+1))?.setValue(r[c]);const d=t.glyphs.split(",");for(let c=0;c<5;c++)d[c]&&this.form.get("glyph"+(c+1))?.setValue(d[c]);const h=t.artefacts.split(",");for(let c=0;c<3;c++)h[c]&&this.form.get("artefact"+(c+1))?.setValue(h[c])})})).subscribe())}sendData(){let o=this.form.value,t=[];for(let h=1;h<=6;h++){let c=this.form.get("skin"+h)?.value;c&&t.push(c)}let n=[];for(let h=1;h<=5;h++){let c=this.form.get("glyph"+h)?.value;c&&n.push(c)}let r=[];for(let h=1;h<=3;h++){let c=this.form.get("artefact"+h)?.value;c&&r.push(c)}let d={hero_id:this.heroId,name:o.name,position:o.position,tierlist:o.tierlist,funktion:o.funktion+(o.funktion2?", "+o.funktion2:""),description:o.description,skins:t.join(","),glyphs:n.join(","),artefacts:r.join(",")};this.service.sendHero(d).pipe((0,H.W)(h=>(0,C.of)(h))).subscribe(h=>{this.router.navigate(["hero/hero/"+d.name])})}abbrechen(){this.router.navigate(["/hero/hero/"+this.heroName])}static#e=this.\u0275fac=function(t){return new(t||F)};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["app-hero-edit"]],decls:2,vars:3,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],["formControlName","name","type","text"],["formControlName","position","placeholder","W\xe4hle die Position"],["formControlName","tierlist","placeholder","Rang in der Tierlist"],[4,"ngFor","ngForOf"],["placeholder","Klasse des Helden"],["value","service.classes"],["placeholder","Sekund\xe4re Klasse des Helden"],["formControlName","description"],[1,"col","mb10"],["placeholder","Standard"],["value","skinNames"],["value","glyphNames"],["value","artefactNames"],["type","button",1,"mr10",3,"click"],["type","button",3,"click"]],template:function(t,n){1&t&&(e.DNE(0,q,104,2,"div",0),e.nI1(1,"async")),2&t&&e.Y8G("ngIf",e.bMT(1,1,n.auth$))},dependencies:[l.Sq,l.bT,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,l.Jj],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}(0,v.Cg)([(0,u.l6)(i=>i.auth.sessionId)],F.prototype,"auth$",void 0);var ee=a(9172),te=a(5558),ie=a(6697),ne=a(980);const oe=()=>["/hero/heroteamsedit"];function se(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const r=e.XpG(3);return e.Njj(r.deleteTeam())}),e.EFF(1,"L\xf6schen"),e.k0s()}}function re(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const r=e.XpG(3);return e.Njj(r.editTeam())}),e.EFF(1,"Bearbeiten"),e.k0s()}}function ae(i,o){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"button",7),e.bIt("click",function(){e.eBV(t);const r=e.XpG(2);return e.Njj(r.viewTeam())}),e.EFF(15,"Details"),e.k0s(),e.DNE(16,se,2,0,"button",8),e.nI1(17,"async"),e.DNE(18,re,2,0,"button",8),e.nI1(19,"async"),e.k0s()()}if(2&i){const t=o.$implicit,n=e.XpG(2);e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.heroes[0]),e.R7$(2),e.JRh(t.heroes[1]),e.R7$(2),e.JRh(t.heroes[2]),e.R7$(2),e.JRh(t.heroes[3]),e.R7$(2),e.JRh(t.heroes[4]),e.R7$(4),e.Y8G("ngIf",e.bMT(17,8,n.auth$)),e.R7$(2),e.Y8G("ngIf",e.bMT(19,10,n.auth$))}}function ce(i,o){if(1&i&&(e.j41(0,"div")(1,"table")(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"Name"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Held 1"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Held 2"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Held 3"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Held 4"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Held 5"),e.k0s(),e.nrm(16,"th"),e.k0s()(),e.j41(17,"tbody"),e.DNE(18,ae,20,12,"tr",6),e.k0s()()()),2&i){const t=o.ngIf;e.R7$(18),e.Y8G("ngForOf",t)}}function le(i,o){1&i&&(e.j41(0,"p"),e.EFF(1,"Teams werden geladen."),e.k0s())}function he(i,o){1&i&&(e.j41(0,"div",9)(1,"button",10),e.EFF(2,"Team hinzuf\xfcgen"),e.k0s()()),2&i&&(e.R7$(),e.Y8G("routerLink",e.lJ4(1,oe)))}function pe(i,o){if(1&i){const t=e.RV6();e.j41(0,"p"),e.EFF(1,"Wirklich l\xf6schen?"),e.k0s(),e.j41(2,"button",7),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.withdraw())}),e.EFF(3,"L\xf6schen"),e.k0s(),e.j41(4,"button",7),e.bIt("click",function(){const r=e.eBV(t).$implicit;return e.Njj(r.complete())}),e.EFF(5,"Abbrechen"),e.k0s()}}class E{constructor(){this.router=(0,e.WQX)(p.Ix),this.service=(0,e.WQX)(f),this.reloadSubject=new T.B,this.close$=new T.B,this.deleteId=null,this.columns=["name","held0","held1","held2","held3","held4","actions"]}ngOnInit(){this.teams$=this.reloadSubject.pipe((0,ee.Z)(null),(0,te.n)(()=>this.fetchData()))}fetchData(){return this.service.getHeroTeams().pipe((0,ie.s)(1))}viewTeam(){}editTeam(){}deleteTeam(){}withdraw(){this.service.deleteTeam(this.deleteId).pipe((0,H.W)(o=>(0,C.of)(o)),(0,ne.j)(()=>this.close$.next(!1))).subscribe(o=>{this.reloadSubject.next()})}static#e=this.\u0275fac=function(t){return new(t||E)};static#t=this.\u0275cmp=e.VBU({type:E,selectors:[["app-heroteams"]],decls:16,vars:8,consts:[["loading",""],["deleteModal",""],[1,"content"],[3,"definedRoute"],[4,"ngIf","ngIfElse"],["class","mt10",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",3,"click"],["type","button",3,"click",4,"ngIf"],[1,"mt10"],["type","button",3,"routerLink"]],template:function(t,n){if(1&t&&(e.j41(0,"div",2),e.nrm(1,"app-subnav",3),e.j41(2,"h1"),e.EFF(3,"Helden Teams"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Hier einige Kompositionen von Helden von unserer Gilde empfohlen."),e.k0s(),e.j41(6,"p"),e.EFF(7,"F\xfcr Neueinsteiger als Tipp: Sich hier ein Team raussuchen, und nur diese Helden leveln."),e.k0s(),e.DNE(8,ce,19,1,"div",4),e.nI1(9,"async"),e.DNE(10,le,2,0,"ng-template",null,0,e.C5r)(12,he,3,2,"div",5),e.nI1(13,"async"),e.k0s(),e.DNE(14,pe,6,0,"ng-template",null,1,e.C5r)),2&t){const r=e.sdS(11);e.R7$(),e.Y8G("definedRoute","hero"),e.R7$(7),e.Y8G("ngIf",e.bMT(9,4,n.teams$))("ngIfElse",r),e.R7$(4),e.Y8G("ngIf",e.bMT(13,6,n.auth$))}},dependencies:[l.Sq,l.bT,p.Wk,b.z,l.Jj],styles:["[_nghost-%COMP%]{display:block}td[_ngcontent-%COMP%]{color:#000}"],changeDetection:0})}(0,v.Cg)([(0,u.l6)(i=>i.auth.sessionId)],E.prototype,"auth$",void 0);var de=a(1985);function me(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const r=e.eBV(t).$implicit,d=e.XpG(2);return e.Njj(d.heroClick(r))}),e.EFF(1),e.k0s()}if(2&i){const t=o.$implicit,n=e.XpG(2);e.Y8G("ngClass",n.getHeroClass(t)),e.R7$(),e.SpI(" ",t," ")}}function ue(i,o){if(1&i&&(e.j41(0,"div"),e.DNE(1,me,2,2,"div",6),e.k0s()),2&i){const t=o.ngIf;e.R7$(),e.Y8G("ngForOf",t)}}let M=(()=>{class i{constructor(){this.service=(0,e.WQX)(f),this.router=(0,e.WQX)(p.Ix),this.activeRoute=(0,e.WQX)(p.nX),this.teamId=null,this.heroes$=new de.c,this.selected$=new _.t([]),this.form=new s.gE({name:new s.MJ(""),description:new s.MJ("")})}ngOnInit(){this.activeRoute.params.pipe((0,m.M)(t=>{t.id?(this.teamId=t.id,this.service.getHeroTeam(t.id).pipe((0,m.M)(n=>{this.selected$.next(n.heroes),this.form.get("name")?.setValue(n.name),this.form.get("description")?.setValue(n.description)}),(0,m.M)(n=>{this.heroes$=this.service.getHeroNames().pipe()})).subscribe()):this.heroes$=this.service.getHeroNames().pipe()})).subscribe()}heroClick(t){let n=this.selected$.value;if(n.includes(t))n=n.filter(r=>r!==t);else{if(n.length>=5)return;n.push(t)}this.selected$.next(n)}getHeroClass(t){return"heroSelector "+(this.selected$.value.includes(t)?"heroSelectorSelected":"")}save(){const t={name:this.form.get("name")?.value??"",description:this.form.get("description")?.value??"",heroes:this.selected$.value,id:this.teamId};this.service.saveHeroTeam(t).subscribe(n=>{this.router.navigate(["/hero/heroteams"])})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-heroteams-edit"]],decls:12,vars:4,consts:[[1,"content"],[1,"b-form",3,"formGroup"],["formControlName","name","type","text"],["formControlName","description"],[4,"ngIf"],["type","button",3,"click"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"Team bearbeiten"),e.k0s(),e.j41(3,"form",1),e.EFF(4," Name des Teams "),e.nrm(5,"input",2),e.j41(6,"textarea",3),e.EFF(7,"            Beschreibung\n        "),e.k0s(),e.DNE(8,ue,2,1,"div",4),e.nI1(9,"async"),e.j41(10,"button",5),e.bIt("click",function(){return r.save()}),e.EFF(11,"Speichern"),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",r.form),e.R7$(5),e.Y8G("ngIf",e.bMT(9,2,r.heroes$)))},dependencies:[l.YU,l.Sq,l.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,l.Jj],styles:["[_nghost-%COMP%]{display:block}.heroSelector[_ngcontent-%COMP%]{margin-top:1em;margin-right:1em;border-radius:.5em;background-color:#fff;padding:.3em .5em;display:inline-block;color:#000;cursor:pointer}.heroSelectorSelected[_ngcontent-%COMP%]{background-color:#adff2f;border-color:red}"],changeDetection:0})}return i})(),fe=(()=>{class i{transform(t){return t&&t.replace(/\n/g,"<br>")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275pipe=e.EJ8({name:"appNewlineToBr",type:i,pure:!0,standalone:!0})}return i})();const ge=()=>["/hero/heroteams"],ke=i=>[i];function Fe(i,o){if(1&i&&(e.j41(0,"div",8)(1,"div"),e.EFF(2),e.k0s()()),2&i){const t=o.$implicit;e.muq("background-image: url(/assets/hero/",t,".png);"),e.Y8G("routerLink",e.eq3(5,ke,"/hero/hero/"+t)),e.R7$(2),e.JRh(t)}}function ve(i,o){if(1&i&&(e.j41(0,"div")(1,"h3"),e.EFF(2),e.k0s(),e.nrm(3,"p",5),e.nI1(4,"appNewlineToBr"),e.j41(5,"div",6),e.DNE(6,Fe,3,7,"div",7),e.k0s()()),2&i){const t=o.ngIf;e.R7$(2),e.JRh(t.name),e.R7$(),e.Y8G("innerHTML",e.bMT(4,3,t.description),e.npT),e.R7$(3),e.Y8G("ngForOf",t.heroes)}}function _e(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.edit())}),e.EFF(1,"Bearbeiten"),e.k0s()}}class j{constructor(){this.router=(0,e.WQX)(p.Ix),this.activeRoute=(0,e.WQX)(p.nX),this.service=(0,e.WQX)(f),this.subscriptions=new y.yU,this.team$=new _.t({id:0,name:"",description:"",heroes:[]}),this.teamId=0}ngOnInit(){this.subscriptions.add(this.activeRoute.params.pipe((0,m.M)(o=>{this.teamId=o.id,this.subscriptions.add(this.service.getHeroTeam(o.id).pipe((0,m.M)(t=>{this.team$.next(t)})).subscribe())})).subscribe())}ngOnDestroy(){this.subscriptions.unsubscribe()}edit(){this.router.navigate(["/hero/heroteamsedit/"+this.teamId])}static#e=this.\u0275fac=function(t){return new(t||j)};static#t=this.\u0275cmp=e.VBU({type:j,selectors:[["app-heroteam-viewer"]],decls:10,vars:9,consts:[[1,"content"],[3,"definedRoute"],[4,"ngIf"],["type","button",3,"click",4,"ngIf"],["type","button",3,"routerLink"],[3,"innerHTML"],[1,"heroes"],[3,"routerLink","style",4,"ngFor","ngForOf"],[3,"routerLink"],["type","button",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.nrm(1,"app-subnav",1),e.j41(2,"h1"),e.EFF(3,"Helden Team Details"),e.k0s(),e.DNE(4,ve,7,5,"div",2),e.nI1(5,"async"),e.DNE(6,_e,2,0,"button",3),e.nI1(7,"async"),e.j41(8,"button",4),e.EFF(9,"Zur\xfcck"),e.k0s()()),2&t&&(e.R7$(),e.Y8G("definedRoute","hero"),e.R7$(3),e.Y8G("ngIf",e.bMT(5,4,n.team$)),e.R7$(2),e.Y8G("ngIf",e.bMT(7,6,n.auth$)),e.R7$(2),e.Y8G("routerLink",e.lJ4(8,ge)))},dependencies:[l.Sq,l.bT,p.Wk,b.z,l.Jj,fe],styles:["[_nghost-%COMP%]{display:block}.heroes[_ngcontent-%COMP%]{display:flex;gap:1em}.heroes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;background-position:center;width:100px;height:100px;display:flex;justify-content:center;align-items:flex-end;flex-direction:row;border:3px solid rgba(0,0,0,.8);cursor:pointer}.heroes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#000c;width:100%;text-align:center}"],changeDetection:0})}(0,v.Cg)([(0,u.l6)(i=>i.auth.sessionId)],j.prototype,"auth$",void 0);const be=[{path:"heroes",component:k,data:{title:"Helden Liste"}},{path:"hero/edithero/:id",component:F,data:{title:"Held bearbeiten"}},{path:"hero/edithero",component:F,data:{title:"Held bearbeiten"}},{path:"hero/:id",component:g,data:{title:"Held"}},{path:"heroteams",component:E,data:{title:"Helden Teams"}},{path:"heroteamviewer/:id",component:j,data:{title:"Helden Team"}},{path:"heroteamsedit/:id",component:M,data:{title:"Helden Team bearbeiten"}},{path:"heroteamsedit",component:M,data:{title:"Helden Team erstellen"}},{path:"**",component:k}];let Ee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[{provide:l.hb,useClass:l.fw}],imports:[p.iI.forChild(be),p.iI]})}return i})();var je=a(1146);let ye=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i,bootstrap:[g]});static#i=this.\u0275inj=e.G2t({imports:[l.MD,s.YN,Ee,I.q1,u.rK.forRoot([N.k]),je.z0.forRoot(),s.X1,p.iI,b.z]})}return i})()}}]);