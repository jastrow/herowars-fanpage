"use strict";(self.webpackChunkhw=self.webpackChunkhw||[]).push([[338],{5338:(et,y,o)=>{o.r(y),o.d(y,{TitanModule:()=>q});var M=o(8751),l=o(177),r=o(9417),I=o(1626),m=o(5882),G=o(1146),c=o(5601),$=o(4558),f=o(1635),t=o(4438),g=o(4412),v=o(8359),w=o(4744),X=o(8953),b=function(n){return n.KLASSE="klasse",n.TIER="tier",n}(b||{});let k=(()=>{class n{constructor(){this.http=(0,t.WQX)(I.Qq),this.env=(0,t.WQX)(X.M),this.loginService=(0,t.WQX)(w.H),this.tierlist=["-","S+","S","A+","A","B","C","D"],this.classes=["-","Magier","Scharfsch\xfctze","Unterst\xfctzer","Tank"],this.titanlistFilter=new g.t({filtertier:null,filterklasse:null})}setTitanFilter(e,s){if(e===b.KLASSE&&this.classes.includes(s)){let a=this.titanlistFilter.value;a.filterklasse=s,this.titanlistFilter.next(a)}if(e===b.TIER&&this.tierlist.includes(s)){let a=this.titanlistFilter.value;a.filtertier=s,this.titanlistFilter.next(a)}}setTitanFilters(e){this.titanlistFilter.next(e)}getPrimeTierlist(){return this.tierlist.map(e=>({name:e,code:e}))}getPrimeClasses(){return this.classes.map(e=>({name:e,code:e}))}getTitanFilter(){return this.titanlistFilter}getTitanNames(){return this.http.get(this.env.apiUrl+"/titans.php?titannames=1")}getTitanByName(e,s){return this.http.get(this.env.apiUrl+"/titans.php?titanByName="+e+(s?"&edit=1":""))}sendTitan(e){return this.http.post(this.env.apiUrl+"/titans.php?titan_id="+e.titan_id,e)}deleteTitan(e){return this.http.get(this.env.apiUrl+"/titans.php?deletetitan="+encodeURI(e))}getTitanNamesFiltered(e,s){e="-"===e?"":e,s="-"===s?"":s;let a=this.env.apiUrl+"/titans.php?filtertier="+encodeURIComponent(e)+"&filterklasse="+encodeURIComponent(s);return this.http.get(a)}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T=o(9124),u=o(1141);const B=()=>["/titan/titanedit/"],D=n=>["/titan/titan/",n];function L(n,i){1&n&&(t.j41(0,"div",4),t.nrm(1,"p-button",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("routerLink",t.lJ4(1,B)))}function P(n,i){if(1&n&&(t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.k0s()()),2&n){const e=i.$implicit;t.muq("background-image: url(/assets/titans/",e,".png);"),t.Y8G("routerLink",t.eq3(5,D,e)),t.R7$(2),t.JRh(e)}}function Y(n,i){if(1&n&&(t.j41(0,"div"),t.DNE(1,P,3,7,"div",10),t.k0s()),2&n){const e=i.ngIf;t.R7$(),t.Y8G("ngForOf",e)}}class p{constructor(){this.service=(0,t.WQX)(k),this.filtered$=new g.t([]),this.filter$=new g.t({filtertier:"-",filterklasse:"-"}),this.form=new r.gE({filterTier:new r.MJ({name:null,code:null}),filterKlasse:new r.MJ({name:null,code:null})}),this.subscriptions=new v.yU}ngOnInit(){this.filter$=this.service.getTitanFilter(),this.subscriptions.add(this.form.valueChanges.subscribe(i=>{this.service.setTitanFilters({filtertier:i.filterTier?.code?i.filterTier.code:"-",filterklasse:i.filterKlasse?.code?i.filterKlasse.code:"-"})})),this.subscriptions.add(this.filter$.subscribe(i=>{this.service.getTitanNamesFiltered(i.filtertier?i.filtertier:"-",i.filterklasse?i.filterklasse:"-").subscribe(a=>{this.filtered$.next(a)})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275cmp=t.VBU({type:p,selectors:[["app-heroes"]],decls:15,vars:10,consts:[[1,"content"],[3,"definedRoute"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],["formControlName","filterTier","optionLabel","name","placeholder","Filter Tier",3,"options"],["formControlName","filterKlasse","optionLabel","name","placeholder","Filter Klasse",3,"options"],["class","col",4,"ngIf"],[4,"ngIf"],["label","Titan hinzuf\xfcgen",3,"routerLink"],["class","hero",3,"routerLink","style",4,"ngFor","ngForOf"],[1,"hero",3,"routerLink"],[1,"hname"]],template:function(e,s){1&e&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"app-subnav",1),t.j41(3,"h1"),t.EFF(4,"Titanen Liste"),t.k0s(),t.j41(5,"form",2)(6,"div",3)(7,"div",4),t.nrm(8,"p-dropdown",5),t.k0s(),t.j41(9,"div",4),t.nrm(10,"p-dropdown",6),t.k0s(),t.DNE(11,L,2,2,"div",7),t.nI1(12,"async"),t.k0s()(),t.DNE(13,Y,2,1,"div",8),t.nI1(14,"async"),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("definedRoute","titan"),t.R7$(3),t.Y8G("formGroup",s.form),t.R7$(3),t.Y8G("options",s.service.getPrimeTierlist()),t.R7$(2),t.Y8G("options",s.service.getPrimeClasses()),t.R7$(),t.Y8G("ngIf",t.bMT(12,6,s.auth$)),t.R7$(2),t.Y8G("ngIf",t.bMT(14,8,s.filtered$)))},dependencies:[c.Wk,l.Sq,l.bT,r.qT,r.BC,r.cb,r.j4,r.JD,$.z,T.ms,u.$n,l.Jj],styles:["[_nghost-%COMP%]{display:block}.hero[_ngcontent-%COMP%]{display:inline-flex;border:3px solid black;color:gray;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:contain;margin:.5em;justify-content:center;align-items:flex-end;align-content:flex-end;cursor:pointer}.hname[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;width:100%;text-align:center;padding:.2em 0 0}"],changeDetection:0})}(0,f.Cg)([(0,m.l6)(n=>n.auth.sessionId)],p.prototype,"auth$",void 0);var F=o(8141),C=o(9437),j=o(7673),S=o(1305),R=o(2242);function O(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",1)(1,"h1"),t.EFF(2,"Neuen Titan anlegen"),t.k0s(),t.j41(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),t.EFF(8,"Name des Titanen"),t.k0s(),t.nrm(9,"input",7),t.k0s()()(),t.j41(10,"div",3)(11,"div",4)(12,"div",5),t.EFF(13," Kampfposition "),t.nrm(14,"p-dropdown",8),t.k0s()(),t.j41(15,"div",4)(16,"div",5),t.EFF(17," Tier List "),t.nrm(18,"p-dropdown",9),t.k0s()()(),t.j41(19,"div",3)(20,"div",4)(21,"div",5),t.EFF(22," Klasse "),t.nrm(23,"p-dropdown",10),t.k0s()(),t.j41(24,"div",4)(25,"div",5),t.EFF(26," Sekund\xe4re Klasse "),t.nrm(27,"p-dropdown",11),t.k0s()()(),t.j41(28,"div",3)(29,"div",4),t.EFF(30," Hinweise & Tips"),t.nrm(31,"br")(32,"textarea",12),t.k0s()(),t.j41(33,"p")(34,"p-button",13),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.sendData())}),t.k0s(),t.j41(35,"p-button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.abbrechen())}),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("formGroup",e.form),t.R7$(11),t.Y8G("options",e.positions),t.R7$(4),t.Y8G("options",e.service.getPrimeTierlist()),t.R7$(5),t.Y8G("options",e.service.getPrimeClasses()),t.R7$(4),t.Y8G("options",e.service.getPrimeClasses())}}class d{constructor(){this.service=(0,t.WQX)(k),this.activeRoute=(0,t.WQX)(c.nX),this.router=(0,t.WQX)(c.Ix),this.subscription=new v.yU,this.titanId=null,this.titanName=null,this.positions=[{name:"Vorne",code:"Vorne"},{name:"Hinten",code:"Hinten"},{name:"Mitte",code:"Mitte"}],this.skins=[],this.glyphs=[],this.form=new r.gE({titan_id:new r.MJ(""),name:new r.MJ(""),position:new r.MJ({code:"",name:""}),tierlist:new r.MJ({code:"",name:""}),funktion:new r.MJ({code:"",name:""}),funktion2:new r.MJ({code:"",name:""}),description:new r.MJ("")})}ngOnInit(){this.subscription.add(this.activeRoute.params.pipe((0,F.M)(i=>{this.titanName=i.id,this.titanName&&this.service.getTitanByName(i.id,!0).subscribe(e=>{this.titanId=e.titan_id?e.titan_id:null,this.form.get("name")?.setValue(e.name),this.form.get("position")?.setValue({code:e.position,name:e.position}),this.form.get("tierlist")?.setValue({code:e.tierlist,name:e.tierlist}),this.form.get("description")?.setValue(e.description);const s=e.funktion.split(",");s[0]&&this.form.get("funktion")?.setValue({code:s[0],name:s[0]}),s[1]&&this.form.get("funktion2")?.setValue({code:s[1],name:s[1]})})})).subscribe())}sendData(){let i=this.form.value,e={titan_id:this.titanId,name:i.name,position:i.position?.code,tierlist:i.tierlist?.code,funktion:i.funktion?.code+(i.funktion2?.code?", "+i.funktion2?.code:""),description:i.description};this.service.sendTitan(e).pipe((0,C.W)(s=>(0,j.of)(s))).subscribe(s=>{this.router.navigate(["titan/titan/"+e.name])})}abbrechen(){this.router.navigate(["/titan/"+this.titanName])}static#t=this.\u0275fac=function(e){return new(e||d)};static#e=this.\u0275cmp=t.VBU({type:d,selectors:[["app-titan-edit"]],decls:2,vars:3,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],[1,"flex","flex-column","gap-2"],["for","name"],["pInputText","","id","name","formControlName","name"],["formControlName","position","optionLabel","name","placeholder","W\xe4hle die Position",3,"options"],["formControlName","tierlist","optionLabel","name","placeholder","Rang in der Tierlist",3,"options"],["formControlName","funktion","optionLabel","name","placeholder","Klasse des Titan",3,"options"],["formControlName","funktion2","optionLabel","name","placeholder","Sekund\xe4re Klasse des Titan",3,"options"],["formControlName","description","pInputTextarea","",2,"width","100%"],["label","Speichern","type","button",1,"mr10",3,"click"],["label","Abbrechen","type","button",3,"click"]],template:function(e,s){1&e&&(t.DNE(0,O,36,5,"div",0),t.nI1(1,"async")),2&e&&t.Y8G("ngIf",t.bMT(1,1,s.auth$))},dependencies:[l.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,T.ms,u.$n,S.Z,R.S,l.Jj],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}(0,f.Cg)([(0,m.l6)(n=>n.auth.sessionId)],d.prototype,"auth$",void 0);var V=o(1413),W=o(6354),J=o(980),U=o(11),x=o(5779),E=o(4799),N=o(7722);const K=n=>[n];function Q(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"p-button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.prevSkin())}),t.k0s(),t.j41(2,"span"),t.EFF(3),t.k0s(),t.j41(4,"p-button",9),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.nextSkin())}),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(),t.Y8G("rounded",!0)("text",!0),t.R7$(2),t.JRh(e.getSkinName()),t.R7$(),t.Y8G("rounded",!0)("text",!0)}}function z(n,i){if(1&n){const e=t.RV6();t.j41(0,"p",10),t.nrm(1,"p-button",11),t.j41(2,"p-button",12),t.bIt("onClick",function(a){t.eBV(e);const tt=t.XpG(2);return t.Njj(tt.confirm1(a))}),t.k0s(),t.nrm(3,"p-toast")(4,"p-confirmDialog"),t.k0s()}if(2&n){const e=t.XpG().ngIf;t.R7$(),t.Y8G("routerLink",t.eq3(1,K,"/titan/edittitan/"+e.name))}}function H(n,i){if(1&n&&(t.qex(0),t.j41(1,"div",2),t.nrm(2,"img",3),t.DNE(3,Q,5,5,"div",4),t.k0s(),t.j41(4,"h1"),t.EFF(5),t.k0s(),t.j41(6,"p")(7,"strong"),t.EFF(8,"Position:"),t.k0s(),t.EFF(9),t.nrm(10,"br"),t.j41(11,"strong"),t.EFF(12,"Tier-List:"),t.k0s(),t.EFF(13),t.nrm(14,"br"),t.j41(15,"strong"),t.EFF(16,"Funktion:"),t.k0s(),t.EFF(17),t.k0s(),t.nrm(18,"p",5),t.DNE(19,z,5,3,"p",6),t.nI1(20,"async"),t.bVm()),2&n){const e=i.ngIf,s=t.XpG();t.R7$(2),t.FS9("src",s.getSkinUrl(),t.B4B),t.R7$(),t.Y8G("ngIf",e.skins.length),t.R7$(2),t.JRh(e.name),t.R7$(4),t.SpI(" ",e.position,""),t.R7$(4),t.SpI(" ",e.tierlist,""),t.R7$(4),t.SpI(" ",e.funktion," "),t.R7$(),t.Y8G("innerHTML",e.description,t.npT),t.R7$(),t.Y8G("ngIf",t.bMT(20,8,s.auth$))}}function A(n,i){1&n&&(t.j41(0,"p"),t.EFF(1,"Wirklich l\xf6schen?"),t.k0s(),t.j41(2,"button",13),t.EFF(3,"L\xf6schen"),t.k0s(),t.j41(4,"button",13),t.EFF(5,"Abbrechen"),t.k0s())}class h{constructor(){this.route=(0,t.WQX)(c.nX),this.subscription=new v.yU,this.service=(0,t.WQX)(U.O),this.titanService=(0,t.WQX)(k),this.confirmationService=(0,t.WQX)(x.td),this.selectedSkin=0,this.skins=[],this.titanName="",this.close$=new V.B,this.store=(0,t.WQX)(m.il),this.router=(0,t.WQX)(c.Ix)}ngOnInit(){this.subscription.add(this.route.params.pipe((0,F.M)(i=>{this.titan$=this.titanService.getTitanByName(i.id,!1).pipe((0,F.M)(e=>{this.skins=[i.id,i.id+"_Champion"],this.titanName=e.name}),(0,W.T)(e=>({...e,skins:this.skins})))})).subscribe(i=>{this.service.backgroundImage="/assets/poster/"+i.id+".png"}))}ngOnDestroy(){this.subscription.unsubscribe()}deleteTitan(){}withdraw(){this.subscription.add(this.titanService.deleteTitan(this.titanName).pipe((0,C.W)(i=>(0,j.of)(i)),(0,J.j)(()=>this.close$.next(!1))).subscribe(i=>{this.router.navigate(["/titan/titans"])}))}nextSkin(){let i=this.selectedSkin+1;this.selectedSkin=i>=this.skins.length?0:i}prevSkin(){let i=this.selectedSkin-1;this.selectedSkin=i<0?this.skins.length-1:i}getSkinName(){return this.skins[this.selectedSkin]}getSkinUrl(){return"/assets/titans/"+this.skins[this.selectedSkin]+".png"}selectSkin(i){this.selectedSkin=this.skins.indexOf(i)}deleteTitan2(){this.titanService.deleteTitan(this.titanName).pipe((0,C.W)(i=>(0,j.of)(i))).subscribe(i=>{this.router.navigate(["/titan/titans"])})}confirm1(i){this.confirmationService.confirm({target:i.target,message:"Soll der Held wirklich gel\xf6scht werden?",header:"Best\xe4tigung",icon:"pi pi-exclamation-triangle",acceptLabel:"Ja",rejectLabel:"Nein",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.deleteTitan2()},reject:()=>{}})}static#t=this.\u0275fac=function(e){return new(e||h)};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["app-titan"]],decls:4,vars:3,consts:[[1,"content"],[4,"ngIf"],[1,"heroimage"],[1,"heroimg",3,"src"],["class","scrollhero",4,"ngIf"],[3,"innerHTML"],["class","flex","style","margin-top:2em; gap:1em;",4,"ngIf"],[1,"scrollhero"],["icon","pi pi-arrow-circle-left",3,"click","rounded","text"],["icon","pi pi-arrow-circle-right",3,"click","rounded","text"],[1,"flex",2,"margin-top","2em","gap","1em"],["label","Bearbeiten","type","button",3,"routerLink"],["label","L\xf6schen","type","button",3,"onClick"],["type","button"]],template:function(e,s){1&e&&(t.j41(0,"div",0),t.DNE(1,H,21,10,"ng-container",1),t.nI1(2,"async"),t.k0s(),t.DNE(3,A,6,0,"ng-template")),2&e&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,1,s.titan$)))},dependencies:[c.Wk,l.bT,u.$n,E.T,N.y8,l.Jj],styles:["[_nghost-%COMP%]{display:block}.heroimage[_ngcontent-%COMP%]{padding:.5em;float:right;max-width:50%}.heroimg[_ngcontent-%COMP%]{max-height:300px;max-width:100%;border-radius:.8em .8em 0 0;border:2px solid black}.scrollhero[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3em;background-color:#000;border-radius:0 0 .8em .8em;margin-top:-8px}h2[_ngcontent-%COMP%]{font-family:Protest Strike,sans-serif;font-weight:400;font-style:normal;color:#d6ab08}.chip[_ngcontent-%COMP%]{display:inline-block;padding:.3em .5em;border:1px solid #D6AB08;border-radius:.4em;background-color:#000;margin-right:.5em;margin-bottom:.5em}.skinchip[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 575.98px){.heroimage[_ngcontent-%COMP%]{float:none;padding:.5em;width:auto;max-width:100%;display:block}.heroimg[_ngcontent-%COMP%]{max-height:100%}}"],changeDetection:0})}(0,f.Cg)([(0,m.l6)(n=>n.auth.sessionId)],h.prototype,"auth$",void 0);const _=[{path:"titans",component:p},{path:"edittitan/:id",component:d,data:{title:"Titan bearbeiten"}},{path:"titanedit",component:d},{path:"titan/:id",component:h,data:{title:"Titan"}},{path:"**",component:p}];let Z=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({providers:[{provide:l.hb,useClass:l.fw}],imports:[c.iI.forChild(_),c.iI]})}return n})(),q=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.$C({type:n,bootstrap:[p]});static#i=this.\u0275inj=t.G2t({providers:[x.td,x.bg],imports:[Z,l.MD,r.YN,I.q1,m.rK.forRoot([M.k]),G.z0.forRoot(),r.X1,c.iI,$.z,T.kr,u.tm,S.f,R.u,E.F,N.MB]})}return n})()}}]);