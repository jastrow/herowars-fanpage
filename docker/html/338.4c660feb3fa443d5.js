"use strict";(self.webpackChunkhw=self.webpackChunkhw||[]).push([[338],{5338:(ft,N,a)=>{a.r(N),a.d(N,{TitanModule:()=>ht});var $=a(8751),l=a(177),o=a(9417),S=a(1626),d=a(3487),R=a(1146),c=a(2791),w=a(4558),f=a(2782),X=a(5514),g=a(2180),v=a(180),T=a(3584),k=a(620),m=a(573),B=a(4191),J=a(8821),D=a(5142),b=a(4602),U=a(7827),V=a(4350),O=a(198),_=a(1635),t=a(4438),F=a(4412),x=a(8359),z=a(4744),W=a(8953),C=function(n){return n.KLASSE="klasse",n.TIER="tier",n}(C||{});let y=(()=>{class n{constructor(){this.http=(0,t.WQX)(S.Qq),this.env=(0,t.WQX)(W.M),this.loginService=(0,t.WQX)(z.H),this.tierlist=["-","S+","S","A+","A","B","C","D"],this.classes=["-","Magier","Scharfsch\xfctze","Unterst\xfctzer","Tank"],this.titanlistFilter=new F.t({filtertier:null,filterklasse:null})}setTitanFilter(i,s){if(i===C.KLASSE&&this.classes.includes(s)){let r=this.titanlistFilter.value;r.filterklasse=s,this.titanlistFilter.next(r)}if(i===C.TIER&&this.tierlist.includes(s)){let r=this.titanlistFilter.value;r.filtertier=s,this.titanlistFilter.next(r)}}setTitanFilters(i){this.titanlistFilter.next(i)}getTitanFilter(){return this.titanlistFilter}getTitanNames(){return this.http.get(this.env.apiUrl+"/titans.php?titannames=1")}getTitanByName(i,s){return this.http.get(this.env.apiUrl+"/titans.php?titanByName="+i+(s?"&edit=1":""))}sendTitan(i){return this.http.post(this.env.apiUrl+"/titans.php?titan_id="+i.titan_id,i)}deleteTitan(i){return this.http.get(this.env.apiUrl+"/titans.php?deletetitan="+encodeURI(i))}getTitanNamesFiltered(i,s){i="-"===i?"":i,s="-"===s?"":s;let r=this.env.apiUrl+"/titans.php?filtertier="+encodeURIComponent(i)+"&filterklasse="+encodeURIComponent(s);return this.http.get(r)}getTitanTeams(){return this.http.get(this.env.apiUrl+"/titans.php?teams=1")}getTitanTeam(i){return this.http.get(this.env.apiUrl+"/titans.php?team="+i)}saveTitanTeam(i){return this.http.post(this.env.apiUrl+"/titans.php?saveteam=1",i)}deleteTeam(i){return this.http.get(this.env.apiUrl+"/titans.php?deleteteam="+i)}static#t=this.\u0275fac=function(s){return new(s||n)};static#i=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G=a(2630);const Y=n=>["/titan/titan/",n],P=()=>["/titan/titanedit/"];function K(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",10),2&n){const i=t.XpG();t.Y8G("items",i.service.tierlist)}}function L(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",10),2&n){const i=t.XpG();t.Y8G("items",i.service.classes)}}function Q(n,e){if(1&n&&(t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.k0s()()),2&n){const i=e.$implicit;t.muq("background-image: url(/assets/titans/",i,".png);"),t.Y8G("routerLink",t.eq3(5,Y,i)),t.R7$(2),t.JRh(i)}}function A(n,e){if(1&n&&(t.j41(0,"div"),t.DNE(1,Q,3,7,"div",11),t.k0s()),2&n){const i=e.ngIf;t.R7$(),t.Y8G("ngForOf",i)}}function H(n,e){1&n&&(t.j41(0,"div")(1,"button",14),t.EFF(2,"Titan hinzuf\xfcgen"),t.k0s()()),2&n&&(t.R7$(),t.Y8G("routerLink",t.lJ4(1,P)))}class p{constructor(){this.service=(0,t.WQX)(y),this.filtered$=new F.t([]),this.filter$=new F.t({filtertier:null,filterklasse:null}),this.form=new o.gE({filterTier:new o.MJ("-"),filterKlasse:new o.MJ("-")}),this.subscriptions=new x.yU}ngOnInit(){this.filter$=this.service.getTitanFilter();const e=this.filter$.value;this.form.get("filterTier")?.setValue(e.filtertier),this.form.get("filterKlasse")?.setValue(e.filterklasse),this.subscriptions.add(this.form.valueChanges.subscribe(i=>{this.service.setTitanFilters({filtertier:i.filterTier?i.filterTier:"-",filterklasse:i.filterKlasse?i.filterKlasse:"-"})})),this.subscriptions.add(this.filter$.subscribe(i=>{this.service.getTitanNamesFiltered(i.filtertier?i.filtertier:"-",i.filterklasse?i.filterklasse:"-").subscribe(I=>{this.filtered$.next(I)})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||p)};static#i=this.\u0275cmp=t.VBU({type:p,selectors:[["app-heroes"]],decls:21,vars:8,consts:[[1,"content"],[3,"definedRoute"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],["tuiTextfieldSize","m","formControlName","filterTier"],["tuiTextfield",""],[3,"items",4,"tuiDataList"],["tuiTextfieldSize","m","formControlName","filterKlasse"],[4,"ngIf"],[3,"items"],["class","hero",3,"routerLink","style",4,"ngFor","ngForOf"],[1,"hero",3,"routerLink"],[1,"hname"],["tuiButton","","type","button",3,"routerLink"]],template:function(i,s){1&i&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"app-subnav",1),t.j41(3,"h1"),t.EFF(4,"Titanen Liste"),t.k0s(),t.j41(5,"form",2)(6,"div",3)(7,"div",4)(8,"tui-select",5),t.EFF(9," Filter Tier "),t.nrm(10,"input",6),t.DNE(11,K,1,1,"tui-data-list-wrapper",7),t.k0s()(),t.j41(12,"div",4)(13,"tui-select",8),t.EFF(14," Filter Klasse "),t.nrm(15,"input",6),t.DNE(16,L,1,1,"tui-data-list-wrapper",7),t.k0s()()()(),t.DNE(17,A,2,1,"div",9),t.nI1(18,"async"),t.DNE(19,H,3,2,"div",9),t.nI1(20,"async"),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("definedRoute","titan"),t.R7$(3),t.Y8G("formGroup",s.form),t.R7$(12),t.Y8G("ngIf",t.bMT(18,4,s.filtered$)),t.R7$(2),t.Y8G("ngIf",t.bMT(20,6,s.auth$)))},dependencies:[c.Wk,l.Sq,l.bT,o.qT,o.BC,o.cb,o.j4,o.JD,w.z,f.SM,T.WX,k.df,G.Bw,m.ET,m.ww,l.Jj],styles:["[_nghost-%COMP%]{display:block}.hero[_ngcontent-%COMP%]{display:inline-flex;border:3px solid black;color:gray;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:contain;margin:.5em;justify-content:center;align-items:flex-end;align-content:flex-end;cursor:pointer}.hname[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;width:100%;text-align:center;padding:.2em 0 0}"],changeDetection:0})}(0,_.Cg)([(0,d.l6)(n=>n.auth.sessionId)],p.prototype,"auth$",void 0);var E=a(8141),j=a(9437),M=a(7673);function Z(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",19),2&n){const i=t.XpG(2);t.Y8G("items",i.positions)}}function q(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",19),2&n){const i=t.XpG(2);t.Y8G("items",i.service.tierlist)}}function tt(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",19),2&n){const i=t.XpG(2);t.Y8G("items",i.service.classes)}}function it(n,e){if(1&n&&t.nrm(0,"tui-data-list-wrapper",19),2&n){const i=t.XpG(2);t.Y8G("items",i.service.classes)}}function nt(n,e){if(1&n){const i=t.RV6();t.j41(0,"div",1)(1,"h1"),t.EFF(2,"Neuen Titan anlegen"),t.k0s(),t.j41(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",4)(7,"tui-input",5),t.EFF(8," Name des Titan "),t.nrm(9,"input",6),t.k0s()()()(),t.j41(10,"div",3)(11,"div",4)(12,"tui-select",7),t.EFF(13," Kampfposition "),t.nrm(14,"input",8),t.DNE(15,Z,1,1,"tui-data-list-wrapper",9),t.k0s()(),t.j41(16,"div",4)(17,"tui-select",10),t.EFF(18," Tier List "),t.nrm(19,"input",11),t.DNE(20,q,1,1,"tui-data-list-wrapper",9),t.k0s()()(),t.j41(21,"div",3)(22,"div",4)(23,"tui-select",12),t.EFF(24," Klasse "),t.nrm(25,"input",13),t.DNE(26,tt,1,1,"tui-data-list-wrapper",9),t.k0s()(),t.j41(27,"div",4)(28,"tui-select",14),t.EFF(29," Sekund\xe4re Klasse "),t.nrm(30,"input",15),t.DNE(31,it,1,1,"tui-data-list-wrapper",9),t.k0s()()(),t.j41(32,"p")(33,"tui-textarea",16),t.EFF(34," Hinweise & Tips "),t.k0s()(),t.j41(35,"p")(36,"button",17),t.bIt("click",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.sendData())}),t.EFF(37,"Abschicken"),t.k0s(),t.j41(38,"button",18),t.bIt("click",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.abbrechen())}),t.EFF(39,"Abbrechen"),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(3),t.Y8G("formGroup",i.form),t.R7$(30),t.Y8G("expandable",!0)}}class u{constructor(e){this.dialogs=e,this.service=(0,t.WQX)(y),this.activeRoute=(0,t.WQX)(c.nX),this.router=(0,t.WQX)(c.Ix),this.subscription=new x.yU,this.titanId=null,this.titanName=null,this.positions=["Vorne","Hinten","Mitte"],this.skins=[],this.glyphs=[],this.form=new o.gE({titan_id:new o.MJ(""),name:new o.MJ(""),position:new o.MJ(""),tierlist:new o.MJ(""),funktion:new o.MJ(""),funktion2:new o.MJ(""),description:new o.MJ(""),skin1:new o.MJ(""),skin2:new o.MJ(""),skin3:new o.MJ(""),skin4:new o.MJ(""),skin5:new o.MJ(""),skin6:new o.MJ(""),glyph1:new o.MJ(""),glyph2:new o.MJ(""),glyph3:new o.MJ(""),glyph4:new o.MJ(""),glyph5:new o.MJ(""),artefact1:new o.MJ(""),artefact2:new o.MJ(""),artefact3:new o.MJ("")})}ngOnInit(){this.subscription.add(this.activeRoute.params.pipe((0,E.M)(e=>{this.titanName=e.id,this.titanName&&this.service.getTitanByName(e.id,!0).subscribe(i=>{this.titanId=i.titan_id?i.titan_id:null,this.form.get("name")?.setValue(i.name),this.form.get("position")?.setValue(i.position),this.form.get("tierlist")?.setValue(i.tierlist),this.form.get("description")?.setValue(i.description);const s=i.funktion.split(",");s[0]&&this.form.get("funktion")?.setValue(s[0]),s[1]&&this.form.get("funktion2")?.setValue(s[1])})})).subscribe())}sendData(){let e=this.form.value,i={titan_id:this.titanId,name:e.name,position:e.position,tierlist:e.tierlist,funktion:e.funktion+(e.funktion2?", "+e.funktion2:""),description:e.description};this.service.sendTitan(i).pipe((0,j.W)(s=>(0,M.of)(s))).subscribe(s=>{this.router.navigate(["titan/titan/"+i.name])})}abbrechen(){this.router.navigate(["/titan/titan/"+this.titanName])}static#t=this.\u0275fac=function(i){return new(i||u)(t.rXU(b.wX))};static#i=this.\u0275cmp=t.VBU({type:u,selectors:[["app-titan-edit"]],decls:2,vars:3,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"b-form",3,"formGroup"],[1,"row"],[1,"col"],["formControlName","name","tuiTextfieldSize","s"],["tuiTextfield","","type","text"],["tuiTextfieldSize","s","formControlName","position"],["placeholder","W\xe4hle die Position","tuiTextfield",""],[3,"items",4,"tuiDataList"],["tuiTextfieldSize","s","formControlName","tierlist"],["placeholder","Rang in der Tierlist","tuiTextfield",""],["tuiTextfieldSize","s","formControlName","funktion"],["placeholder","Klasse des Titan","tuiTextfield",""],["tuiTextfieldSize","s","formControlName","funktion2"],["placeholder","Sekund\xe4re Klasse des Titan","tuiTextfield",""],["formControlName","description",3,"expandable"],["tuiButton","","type","button",1,"mr10",3,"click"],["tuiButton","","type","button",3,"click"],[3,"items"]],template:function(i,s){1&i&&(t.DNE(0,nt,40,2,"div",0),t.nI1(1,"async")),2&i&&t.Y8G("ngIf",t.bMT(1,1,s.auth$))},dependencies:[l.bT,o.qT,o.BC,o.cb,o.j4,o.JD,f.SM,T.WX,k.df,g.mp,g.Ws,G.Bw,m.ET,m.ww,v.IU,v.Ih,l.Jj],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}(0,_.Cg)([(0,d.l6)(n=>n.auth.sessionId)],u.prototype,"auth$",void 0);var et=a(1413),st=a(6354),at=a(6977),ot=a(980),rt=a(11);function lt(n,e){if(1&n){const i=t.RV6();t.j41(0,"div",8)(1,"button",9),t.bIt("click",function(){t.eBV(i);const r=t.XpG(2);return t.Njj(r.prevSkin())}),t.k0s(),t.j41(2,"span"),t.EFF(3),t.k0s(),t.j41(4,"button",10),t.bIt("click",function(){t.eBV(i);const r=t.XpG(2);return t.Njj(r.nextSkin())}),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(3),t.JRh(i.getSkinName())}}function ct(n,e){if(1&n){const i=t.RV6();t.j41(0,"p",11)(1,"button",12),t.bIt("click",function(){t.eBV(i);const r=t.XpG(2);return t.Njj(r.navEdit())}),t.EFF(2,"Bearbeiten"),t.k0s(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(i);const r=t.XpG(2),I=t.sdS(4);return t.Njj(r.deleteTitan(I))}),t.EFF(4,"L\xf6schen"),t.k0s()()}}function pt(n,e){if(1&n&&(t.qex(0),t.j41(1,"div",3),t.nrm(2,"img",4),t.DNE(3,lt,5,1,"div",5),t.k0s(),t.j41(4,"h1"),t.EFF(5),t.k0s(),t.j41(6,"p")(7,"strong"),t.EFF(8,"Position:"),t.k0s(),t.EFF(9),t.nrm(10,"br"),t.j41(11,"strong"),t.EFF(12,"Tier-List:"),t.k0s(),t.EFF(13),t.nrm(14,"br"),t.j41(15,"strong"),t.EFF(16,"Funktion:"),t.k0s(),t.EFF(17),t.k0s(),t.nrm(18,"p",6),t.DNE(19,ct,5,0,"p",7),t.nI1(20,"async"),t.bVm()),2&n){const i=e.ngIf,s=t.XpG();t.R7$(2),t.FS9("src",s.getSkinUrl(),t.B4B),t.R7$(),t.Y8G("ngIf",i.skins.length),t.R7$(2),t.JRh(i.name),t.R7$(4),t.SpI(" ",i.position,""),t.R7$(4),t.SpI(" ",i.tierlist,""),t.R7$(4),t.SpI(" ",i.funktion," "),t.R7$(),t.Y8G("innerHTML",i.description,t.npT),t.R7$(),t.Y8G("ngIf",t.bMT(20,8,s.auth$))}}function ut(n,e){if(1&n){const i=t.RV6();t.j41(0,"p"),t.EFF(1,"Wirklich l\xf6schen?"),t.k0s(),t.j41(2,"button",14),t.bIt("click",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.withdraw())}),t.EFF(3,"L\xf6schen"),t.k0s(),t.j41(4,"button",15),t.bIt("click",function(){const r=t.eBV(i).$implicit;return t.Njj(r.complete())}),t.EFF(5,"Abbrechen"),t.k0s()}}class h{constructor(e){this.dialogs=e,this.route=(0,t.WQX)(c.nX),this.subscription=new x.yU,this.service=(0,t.WQX)(rt.O),this.titanService=(0,t.WQX)(y),this.selectedSkin=0,this.skins=[],this.titanName="",this.close$=new et.B,this.store=(0,t.WQX)(d.il),this.router=(0,t.WQX)(c.Ix)}ngOnInit(){this.subscription.add(this.route.params.pipe((0,E.M)(e=>{this.titan$=this.titanService.getTitanByName(e.id,!1).pipe((0,E.M)(i=>{this.skins=[e.id,e.id+"_Champion"],this.titanName=i.name}),(0,st.T)(i=>({...i,skins:this.skins})))})).subscribe(e=>{this.service.backgroundImage="/assets/poster/"+e.id+".png"}))}ngOnDestroy(){this.subscription.unsubscribe()}deleteTitan(e){this.dialogs.open(e).pipe((0,at.Q)(this.close$)).subscribe()}withdraw(){this.subscription.add(this.titanService.deleteTitan(this.titanName).pipe((0,j.W)(e=>(0,M.of)(e)),(0,ot.j)(()=>this.close$.next(!1))).subscribe(e=>{this.router.navigate(["/titan/titans"])}))}nextSkin(){let e=this.selectedSkin+1;this.selectedSkin=e>=this.skins.length?0:e}prevSkin(){let e=this.selectedSkin-1;this.selectedSkin=e<0?this.skins.length-1:e}getSkinName(){return this.skins[this.selectedSkin]}getSkinUrl(){return"/assets/titans/"+this.skins[this.selectedSkin]+".png"}selectSkin(e){this.selectedSkin=this.skins.indexOf(e)}deleteTitan2(){this.titanService.deleteTitan(this.titanName).pipe((0,j.W)(e=>(0,M.of)(e))).subscribe(e=>{this.router.navigate(["/titan/titans"])})}navEdit(){this.router.navigate(["/titan/edittitan/"+this.titanName])}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(b.wX))};static#i=this.\u0275cmp=t.VBU({type:h,selectors:[["app-titan"]],decls:5,vars:3,consts:[["deleteModal",""],[1,"content"],[4,"ngIf"],[1,"titanimage"],[1,"titanimg",3,"src"],["class","scrolltitan",4,"ngIf"],[3,"innerHTML"],["style","margin-top:2em",4,"ngIf"],[1,"scrolltitan"],["tuiIconButton","","type","button","icon","tuiIconChevronsLeft","size","s",3,"click"],["tuiIconButton","","type","button","icon","tuiIconChevronsRight","size","s",3,"click"],[2,"margin-top","2em"],["appearance","primary","tuiButton","","type","button","size","m",2,"margin-right","1em",3,"click"],["appearance","primary","tuiButton","","type","button","size","m",3,"click"],["size","m","tuiButton","","type","button",1,"tui-space_right-3",3,"click"],["size","m","tuiButton","","type","button",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"div",1),t.DNE(1,pt,21,10,"ng-container",2),t.nI1(2,"async"),t.k0s(),t.DNE(3,ut,6,0,"ng-template",null,0,t.C5r)),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,1,s.titan$)))},dependencies:[l.bT,f.SM,l.Jj],styles:["[_nghost-%COMP%]{display:block}.titanimage[_ngcontent-%COMP%]{padding:.5em;float:right;max-width:50%}.titanimg[_ngcontent-%COMP%]{max-height:300px;max-width:100%;border-radius:.8em .8em 0 0;border:2px solid black}h2[_ngcontent-%COMP%]{font-family:Protest Strike,sans-serif;font-weight:400;font-style:normal;color:#d6ab08}.chip[_ngcontent-%COMP%]{display:inline-block;padding:.3em .5em;border:1px solid #D6AB08;border-radius:.4em;background-color:#000;margin-right:.5em;margin-bottom:.5em}.scrolltitan[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3em;background-color:#000;border-radius:0 0 .8em .8em}.skinchip[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 575.98px){.titanimage[_ngcontent-%COMP%]{float:none;padding:.5em;width:auto;max-width:100%;display:block}.titanimg[_ngcontent-%COMP%]{max-height:100%}}"],changeDetection:0})}(0,_.Cg)([(0,d.l6)(n=>n.auth.sessionId)],h.prototype,"auth$",void 0);const dt=[{path:"titans",component:p},{path:"edittitan/:id",component:u,data:{title:"Titan bearbeiten"}},{path:"titanedit",component:u},{path:"titan/:id",component:h,data:{title:"Titan"}},{path:"**",component:p}];let mt=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#i=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({providers:[{provide:l.hb,useClass:l.fw}],imports:[c.iI.forChild(dt),c.iI]})}return n})(),ht=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#i=this.\u0275mod=t.$C({type:n,bootstrap:[p]});static#n=this.\u0275inj=t.G2t({imports:[mt,l.MD,o.YN,S.q1,d.rK.forRoot([$.k]),R.z0.forRoot(),o.X1,c.iI,w.z,D.nN,f.Pv,X.P,T.Jk,k.Km,b.JM,g.zi,B.ks,J.O,U.N,m.pg,V.vl,O.fi,v.bC]})}return n})()}}]);